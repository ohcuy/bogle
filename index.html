<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>빨래 끝!🧺 다음 분을 위한 센스 있는 메시지 보내기💕</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <img src="./title_image.png" alt="로고 이미지" class="logo_image" />
    <h4>모두가 사용하는 세탁실 사용 가이드라인 🧺</h4>

    <p>현재 위치한 세탁실은 1층입니다.</p>

    <p>템플릿을 사용해서</br>이전 사용자에게 메시지를 보내세요 ☺️</p>
    
    <div class="boxDiv">
        <h3>세탁기 메시지 보내기 🫧</h3>
        <div class="template" onclick="copyText(this)">안녕하세요! 1층 세탁기 사용이 완료되어, 세탁물을 공용 빨래바구니에 넣어두었습니다. 😊</div>

    <div class="boxDiv">
        <h3>건조기 메시지 보내기 🌬️</h3>
        <div class="template" onclick="copyText(this)">안녕하세요! 1층 건조기 사용이 완료되어, 세탁물을 공용 빨래바구니에 넣어두었습니다. 😊</div> 
    </div>

    <p>메시지 박스를 누르면 iMessage로 이동합니다 ✉️</p>

    <div id="toast">📋 복사되었습니다!</div>

    <script>
        function copyText(element) {
            const text = element.textContent.trim(); // 선택한 텍스트 가져오기
            navigator.clipboard.writeText(text).then(() => {
                showToast(); // 복사 토스트 표시
                openiMessage(text); // iMessage 실행
            }).catch((err) => {
                alert("복사 실패: " + err);
            });
        }
    
        function showToast() {
            const toast = document.getElementById("toast");
            toast.style.visibility = "visible";
            toast.style.opacity = "1";
            
            setTimeout(() => {
                toast.style.opacity = "0";
                setTimeout(() => {
                    toast.style.visibility = "hidden";
                }, 500);
            }, 1500);
        }
    
        function openiMessage(text) {
            const encodedText = encodeURIComponent(text); // URL 인코딩
            window.location.href = `sms:&body=${encodedText}`;
        }
    </script>
    
</body>
</html>
