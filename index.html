<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>빨래 끝!🧺 다음 분을 위한 센스 있는 메시지 보내기💕</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="fullDiv">
        <img src="./title_image.png" alt="로고 이미지" class="logo_image" />
        <div class="contentDiv">
            <div class="pageTitleDiv">
                <p class="pageTitleTop">완료된 빨래가 있다면<br/>다른 러너에게 알려보세요😉</p>
                <p class="pageTitleBottom">버튼 클릭으로 간단하게 메시지를 보낼 수 있어요!</p>
            </div>
    
            <div class="boxContainer">
                <div class="boxDiv">
                    <p class="boxTitle">세탁기🫧</p>
                    <div class="templateDiv">
                        <div class="templatePreview">
                            <p class="templateText">안녕하세요! <br/>4층 세탁기 사용이 완료되어, <br/>세탁물을 빨래 바구니에 옮겨두었습니다😊</p>
                        </div>
                        <button class="copyButton" onclick="copyText(this)">메시지 보내기💌</button>
                    </div>
                </div>
                <div class="boxDiv">
                    <p class="boxTitle">건조기💨</p>
                    <div class="templateDiv">
                        <div class="templatePreview">
                            <p class="templateText">안녕하세요! <br/>4층 건조기 사용이 완료되어, <br/>세탁물을 빨래 바구니에 옮겨두었습니다😊</p>
                        </div>
                        <button class="copyButton" onclick="copyText(this)">메시지 보내기💌</button>
                    </div>
                </div>
            </div>
            <p class="bottomGuide">💕서로 배려하는 즐거운 세탁실 사용🧺</p>
        </div>

    </div>

    <div id="toast">📋 복사되었습니다!</div>

    <script>
        function copyText(element) {
            const templateDiv = element.closest('.templateDiv'); // 버튼과 같은 templateDiv 찾기
            const text = templateDiv.querySelector('.templateText').textContent.trim(); // templateText 내용 가져오기
            navigator.clipboard.writeText(text).then(() => {
                showToast(); // 복사 토스트 표시
                openiMessage(text); // iMessage 실행
            }).catch((err) => {
                alert("복사 실패: " + err);
            });
        }
    
        function showToast() {
            const toast = document.getElementById("toast");
            toast.style.visibility = "visible";
            toast.style.opacity = "1";
            
            setTimeout(() => {
                toast.style.opacity = "0";
                setTimeout(() => {
                    toast.style.visibility = "hidden";
                }, 500);
            }, 1500);
        }
    
        function openiMessage(text) {
            const encodedText = encodeURIComponent(text); // URL 인코딩
            window.location.href = `sms:&body=${encodedText}`;
        }
    </script>
    
</body>
</html>
